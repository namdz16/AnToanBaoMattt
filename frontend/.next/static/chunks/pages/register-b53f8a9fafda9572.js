(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[787],{2790:(e,r,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return n(9861)}])},3588:(e,r,n)=>{"use strict";n.d(r,{n:()=>d});var t=n(4902),s=n(427),a=n(8877),o=n(996),i=n(7510),l=n(3070),u=n(7994),c=n(542).Sw?s.useLayoutEffect:s.useEffect;function d(e,r){var n=(0,u.m)(null==r?void 0:r.client);(0,i.D$)(e,i.KG.Mutation);var d=s.useState({called:!1,loading:!1,client:n}),f=d[0],g=d[1],m=s.useRef({result:f,mutationId:0,isMounted:!0,client:n,mutation:e,options:r});c(function(){Object.assign(m.current,{client:n,options:r,mutation:e})});var h=s.useCallback(function(e){void 0===e&&(e={});var r=m.current,n=r.options,s=r.mutation,i=(0,t.Cl)((0,t.Cl)({},n),{mutation:s}),u=e.client||m.current.client;m.current.result.loading||i.ignoreResults||!m.current.isMounted||g(m.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:u});var c=++m.current.mutationId,d=(0,a.l)(i,e);return u.mutate(d).then(function(r){var n,t,s=r.data,a=r.errors,i=a&&a.length>0?new l.K4({graphQLErrors:a}):void 0,f=e.onError||(null==(n=m.current.options)?void 0:n.onError);if(i&&f&&f(i,d),c===m.current.mutationId&&!d.ignoreResults){var h={called:!0,loading:!1,data:s,error:i,client:u};m.current.isMounted&&!(0,o.L)(m.current.result,h)&&g(m.current.result=h)}var v=e.onCompleted||(null==(t=m.current.options)?void 0:t.onCompleted);return i||null==v||v(r.data,d),r},function(r){if(c===m.current.mutationId&&m.current.isMounted){var n,t={loading:!1,error:r,data:void 0,called:!0,client:u};(0,o.L)(m.current.result,t)||g(m.current.result=t)}var s=e.onError||(null==(n=m.current.options)?void 0:n.onError);if(s)return s(r,d),{data:void 0,errors:r};throw r})},[]),v=s.useCallback(function(){if(m.current.isMounted){var e={called:!1,loading:!1,client:m.current.client};Object.assign(m.current,{mutationId:0,result:e}),g(e)}},[]);return s.useEffect(function(){var e=m.current;return e.isMounted=!0,function(){e.isMounted=!1}},[]),[h,(0,t.Cl)({reset:v},f)]}},9861:(e,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>c});var t=n(8888),s=n(7876),a=n(4232),o=n(9350),i=n(3588);function l(){let e=(0,t._)(["\n  mutation Register($username: String!, $password: String!) {\n    register(username: $username, password: $password)\n  }\n"]);return l=function(){return e},e}let u=(0,o.J1)(l());function c(){let[e,r]=(0,a.useState)(""),[n,t]=(0,a.useState)(""),[o,{data:l,error:c}]=(0,i.n)(u),d=async r=>{r.preventDefault(),await o({variables:{username:e,password:n}})};return(0,s.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:(0,s.jsxs)("div",{className:"w-full max-w-md p-8 rounded-2xl shadow-lg border border-orange-200 bg-white flex flex-col items-center",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-orange-500 mb-4",children:"Đăng k\xfd t\xe0i khoản"}),(0,s.jsxs)("form",{onSubmit:d,className:"w-full flex flex-col gap-4",children:[(0,s.jsx)("input",{value:e,onChange:e=>r(e.target.value),placeholder:"Username",className:"border p-2 rounded focus:ring-2 focus:ring-orange-400"}),(0,s.jsx)("input",{value:n,onChange:e=>t(e.target.value),type:"password",placeholder:"Password",className:"border p-2 rounded focus:ring-2 focus:ring-orange-400"}),(0,s.jsx)("button",{type:"submit",className:"w-full py-2 px-4 rounded bg-orange-500 text-white font-semibold hover:bg-orange-600 transition",children:"Đăng k\xfd"}),l&&(0,s.jsx)("div",{className:"text-green-600 text-sm",children:l.register}),c&&(0,s.jsx)("div",{className:"text-red-500 text-sm",children:c.message})]}),(0,s.jsxs)("div",{className:"mt-4 flex flex-col gap-2 text-sm",children:[(0,s.jsxs)("span",{children:["Bạn đ\xe3 c\xf3 t\xe0i khoản? ",(0,s.jsx)("a",{href:"/login",className:"text-orange-500 hover:underline",children:"Đăng nhập"})]}),(0,s.jsxs)("span",{children:["Đổi mật khẩu? ",(0,s.jsx)("a",{href:"/change-password",className:"text-orange-500 hover:underline",children:"Tại đ\xe2y"})]})]})]})})}}},e=>{var r=r=>e(e.s=r);e.O(0,[969,636,593,792],()=>r(2790)),_N_E=e.O()}]);